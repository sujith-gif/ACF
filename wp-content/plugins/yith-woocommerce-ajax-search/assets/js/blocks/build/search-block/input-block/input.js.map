{"version":3,"file":"input-block/input.js","mappings":"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","sources":["webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/base/components/index.js","webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/base/components/popover-with-content/index.js","webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/base/components/product-results/index.js","webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/base/components/product-results/item-thumb.js","webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/base/components/product-results/result-item.js","webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/base/components/root/index.js","webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/base/components/search-field/index.js","webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/base/components/search-field/submit.js","webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/base/utils/functions.js","webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/blocks/search-block/inner-blocks/input-block/attributes.js","webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/blocks/search-block/inner-blocks/input-block/block.js","webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/blocks/search-block/inner-blocks/input-block/frontend.js","webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/data/shared/hocs/index.js","webpack://yith-woocommerce-ajax-search/./assets/js/blocks/src/data/shared/hocs/with-filtered-attributes.js"],"sourcesContent":["export {default as SearchField} from './search-field';\nexport {default as PopoverWithContent} from './popover-with-content';\nexport {default as ProductResults} from './product-results';\n\nexport {default as Root} from './root';","import React from 'react';\nimport {Box, Popover} from '@lapilli-ui/components';\n\nimport {useMediaQuery} from '../../utils/functions';\n\nconst PopoverWithContent = ({children, ...props}) => {\n    const isSmallDevice = useMediaQuery('(max-width: 600px)');\n    return (\n        <>\n            {!isSmallDevice && <Popover {...props}>\n                <Box className=\"popover-content\">\n                    {children}\n                </Box>\n            </Popover>}\n            {isSmallDevice &&\n                <Box className=\"mobile-search-content\">\n                    {children}\n                </Box>\n            }\n        </>\n    );\n};\n\nexport default PopoverWithContent;","import ResultItem from './result-item';\nimport React from 'react';\n\nimport apiFetch from '@wordpress/api-fetch';\nimport {Typography, Grid} from '@lapilli-ui/components';\nimport {YWCAS_LANG, YWCAS_SITE_URL} from '../../../config';\n\nconst ProductResults = (props) => {\n  const {searchQuery, results, categoryList, noResults, showViewAll, showViewAllText, maxResultsToShow} = props;\n  const handleClick = (e, item, redirect = true) => {\n    e.stopPropagation();\n    redirect && goToItemUrl(item);\n    const path = '/ywcas/v1/register?itemID=' + item.post_id + '&queryString=' + searchQuery + '&totalResults=' + results.totalResults+ '&lang='+YWCAS_LANG;\n    apiFetch({path}).then(\n        null,\n        (error) => {\n          console.log(error);\n        },\n    );\n  };\n\n  const goToItemUrl = item => {\n    if (item.url) {\n      window.location.href = item.url;\n    }\n  };\n\n  const handleSubmit = () =>{\n\n    const showQuery = results.fuzzyToken !== false ?  results.fuzzyToken : searchQuery;\n    const path = YWCAS_SITE_URL + '?ywcas=1&post_type=product&lang='+YWCAS_LANG+'&s='+showQuery;\n    window.location.href = path;\n  }\n\n  const viewAllLabel = showViewAllText.replace('{total}', results.totalResults );\n  const items = results.results;\n\n  return (\n      <>\n        {items && items.length &&\n            <Grid className='ywcas-search-results-grid' columns={1}>\n              {items.map((item, index) => <ResultItem key={index} item={item} onClick={handleClick} results={results}  {...props} />)}\n            </Grid>\n        }\n        {!items && <Typography>{noResults}</Typography>}\n        { items && showViewAll && maxResultsToShow < results.totalResults && <div className=\"ywcas-total-results\"> > <a  className=\"total-results-link\" href=\"#\" onClick={handleSubmit}>{viewAllLabel}</a></div>}\n      </>\n  );\n};\n\nexport default ProductResults;","import React from 'react';\nimport {Stack} from '@lapilli-ui/components';\nimport parse from 'html-react-parser';\n\nimport {ywcasDefaultSettings} from '../../../config';\n\nimport {useMediaQuery} from '../../utils/functions';\n\nconst ItemThumb = ({imageSize, marginLeft, item}) => {\n  const productInStock = Boolean(parseInt(item.instock));\n  const isSmallDevice = useMediaQuery('(max-width: 500px)');\n  const imageWidth = isSmallDevice ? '70' : imageSize;\n\n  return (<Stack className=\"search-result-item__thumbnail\" sx={{width: imageWidth, marginLeft}}>\n    <img src={item.thumbnail} alt={item.name} width={imageWidth}/>\n  </Stack>);\n};\n\nexport default ItemThumb;","/* global ywcas_search_results_block_parameter */\nimport React from 'react';\nimport parse from 'html-react-parser';\nimport {useState} from '@wordpress/element';\nimport {Stack, Typography, Spinner, Box} from '@lapilli-ui/components';\nimport {Button} from '@wordpress/components';\n\nimport {isEmpty} from '../../utils/functions';\nimport ItemThumb from './item-thumb';\n\nfunction ResultItem(props) {\n  const {\n    item, searchQuery, onClick, showName, showImage, layout, imageSize, productNameColor, results,\n  } = props;\n\n  const stackDirection = 'row';\n  const stackAlign = 'center';\n  const marginLeft = 0;\n\n\n  const ItemName = () => {\n    if (!showImage && isEmpty(item.thumbnail)) {\n      return '';\n    }\n    return (\n        <Stack className=\"search-result-item_name\" sx={{flex: 1, alignItems: 'left'}} onClick={(e) => onClick(e, item, results.totalResults)}>\n          {showName && <Typography sx={{color: productNameColor, fontSize: '0.9em'}} className=\"search-result-item__name\" >{parse(item.name)}</Typography>}\n        </Stack>\n    );\n  };\n\n  return (\n      <Box className={`search-result-item list`}>\n      <Stack align={stackAlign} direction={stackDirection} spacing={2} className={`search-result-item__content`} data-id={item.post_id} data-name={item.name} onClick={(e) => onClick(e, item)}>\n        {showImage  && <ItemThumb marginLeft={marginLeft} item={item} {...props}/>}\n        <ItemName/>\n      </Stack>\n      </Box>\n  );\n}\n\nexport default ResultItem;","import {useState} from '@wordpress/element';\nimport { StyledProvider }   from \"@lapilli-ui/styles\";\nimport { __experimentalDocumentProvider as DocumentProvider } from \"@lapilli-ui/components\";\n\nconst Root = ( { children } ) => {\n\tconst [doc, setDoc] = useState();\n\n\treturn <div ref={( node ) => node && node?.ownerDocument && setDoc( node.ownerDocument )}>\n\t\t{doc &&\n\t\t <DocumentProvider document={doc}>\n\t\t\t <StyledProvider document={doc}>\n\t\t\t\t {children}\n\t\t\t </StyledProvider>\n\t\t </DocumentProvider>\n\t\t}\n\t</div>\n};\n\nexport default Root;","import React from 'react';\nimport {Icon} from '@wordpress/components';\nimport {MagnifyingGlassIcon, CloseIcon} from '../../../common';\nimport {Box, Stack, Input} from '@lapilli-ui/components';\nimport Submit from './submit';\nimport {YWCAS_LANG, YWCAS_SITE_URL} from '../../../config';\n\nconst SearchField = ({\n                         queryString,\n                         placeholder,\n                         placeholderTextColor,\n                         inputTextColor,\n                         inputBgColor,\n                         inputBgFocusColor,\n                         inputBorderColor,\n                         inputBorderFocusColor,\n                         inputBorderSize,\n                         inputBorderRadius,\n                         submitContentColor,\n                         submitContentHoverColor,\n                         submitBgColor,\n                         submitBgHoverColor,\n                         submitBorderColor,\n                         submitBorderHoverColor,\n                         submitStyle,\n                         size,\n                         setSearchQuery,\n                         iconType,\n                         buttonLabel,\n                         buttonBorderRadius,\n                         onFocus = null,\n                         onBlur = null,\n                         onCloseMobile= null,\n                         isSmallDevice = false,\n                     }) => {\n\n\n    const getStyleOfIcon = () => {\n        return {\n            borderRadius: '50%',\n            backgroundColor: `${submitBgColor}!important`,\n            border: '1px solid',\n            borderColor: `${submitBorderColor || '#FFF'} !important`,\n            'svg': {\n                height: (submitBgColor !== '' && submitBgColor.toLowerCase() !== '#fff' && submitBgColor.toLowerCase() !== '#ffffff') ? '20px' : '24px',\n            },\n            '&:hover, & > sgv:hover': {\n                backgroundColor: `${submitBgHoverColor}!important`,\n                borderColor: `${submitBorderHoverColor || '#FFF'} !important`,\n            },\n\n        };\n    };\n\n    const getStyleSearchField = () => {\n        return {\n            '& .ywcas-input-field-wrapper': {\n                flex: 1,\n                borderRadius: `${inputBorderRadius.topLeft} ${inputBorderRadius.topRight} ${inputBorderRadius.bottomRight} ${inputBorderRadius.bottomLeft}`,\n                borderColor: `${inputBorderColor || '#7C7C7C'}!important`,\n                borderWidth: `${inputBorderSize.topLeft} ${inputBorderSize.topRight}  ${inputBorderSize.bottomLeft} ${inputBorderSize.bottomRight}`,\n                backgroundColor: `${inputBgColor || '#FFF'}!important`,\n                borderStyle: 'solid',\n                overflow: 'hidden',\n                '&:focus-within': {\n                    backgroundColor: `${inputBgFocusColor || '#FFF'}!important`,\n                    borderColor: `${inputBorderFocusColor || '#5B5B5B'}!important`,\n                },\n                '& >div': {\n                    width: '100%',\n                    padding: 0,\n                    input: {\n                        flex: 1,\n                    },\n                    'div:last-child': {\n                        display: 'none',\n                    },\n                },\n            },\n            '& .ywcas-input-field input': {\n                color: `${inputTextColor || '#000'} !important`,\n                fontSize: '1rem!important',\n            },\n            '& .ywcas-input-field input::placeholder': {\n                color: `${placeholderTextColor || '#000'}`,\n                opacity: 1, /* Firefox */\n            },\n            '& .ywcas-submit-button': {\n                color: `${submitContentColor || '#fff'} !important`,\n                backgroundColor: `${submitBgColor || '#a7ab06'} !important`,\n                borderColor: `${submitBorderColor || '#FFF'} !important`,\n                borderRadius: `${buttonBorderRadius.topLeft} ${buttonBorderRadius.topRight}  ${buttonBorderRadius.bottomRight}  ${buttonBorderRadius.bottomLeft}`,\n            },\n            '& .ywcas-submit-button:hover': {\n                color: `${submitContentHoverColor || '#fff'} !important`,\n                backgroundColor: `${submitBgHoverColor || '#a7ab06'} !important`,\n                borderColor: `${submitBorderHoverColor || '#FFF'} !important`,\n            },\n            '& .ywcas-submit-icon': {\n                color: `${submitContentColor || '#000'} !important`,\n            },\n            '&:hover .ywcas-submit-icon, & .ywcas-submit-icon:hover': {\n                color: `${submitContentHoverColor || '#000'} !important`,\n            },\n        };\n    };\n\n    const handleSubmit = () => {\n        if ('' !== queryString) {\n            const path = YWCAS_SITE_URL + '?ywcas=1&post_type=product&lang=' + YWCAS_LANG + '&s=' + queryString;\n            window.location.href = path;\n        }\n    };\n\n    const onKeyDown = (event) => {\n        if (event.key === 'Enter') {\n            handleSubmit();\n        }\n    };\n\n    return (\n        <>\n            <Box className=\"ywcas-block-components-search-field\" sx={getStyleSearchField()}>\n                {isSmallDevice && <div className=\"mobile-search-close\" onClick={onCloseMobile}><Icon\n                    icon={CloseIcon()}/></div>}\n                <Stack direction=\"row\" spacing={0}>\n                    <Stack className=\"ywcas-input-field-wrapper\">\n                        <Input\n                            className=\"ywcas-input-field\"\n                            placeholder={placeholder}\n                            autoComplete=\"off\"\n                            size={size}\n                            value={queryString}\n                            onChange={setSearchQuery}\n                            onFocus={onFocus}\n                            onBlur={onBlur}\n                            onKeyDown={onKeyDown}\n                            startAdornment={(submitStyle === 'icon' && iconType === 'icon-left') ?\n                                <Box className=\"ywcas-submit-wrapper\" sx={getStyleOfIcon()}><Icon\n                                    className=\"ywcas-submit-icon\" icon={MagnifyingGlassIcon()}/></Box> : null}\n                            endAdornment={<Submit submitStyle={submitStyle} buttonLabel={buttonLabel}\n                                                  submitBgColor={submitBgColor}\n                                                  iconType={iconType} onClick={handleSubmit}\n                                                  wrapperStyle={getStyleOfIcon()}/>}\n                        />\n                    </Stack>\n\n                </Stack>\n\n            </Box>\n        </>\n    );\n};\n\nexport default SearchField;","import {MagnifyingGlassIcon} from '../../../common';\nimport {Icon} from '@wordpress/components';\nimport {Button,Box} from '@lapilli-ui/components';\nconst Submit = ({submitStyle, buttonLabel, iconType, onClick, wrapperStyle}) =>{\n  switch (submitStyle) {\n    case 'text':\n      return <Button className=\"ywcas-submit-button\" color=\"secondary\" size=\"sm\" onClick={onClick}>{buttonLabel}</Button>;\n    case 'icon':\n      return iconType === 'icon-right' && <Box className=\"ywcas-submit-wrapper\" sx={wrapperStyle}><Icon className=\"ywcas-submit-icon\" onClick={onClick} icon={MagnifyingGlassIcon()}/></Box>;\n    case 'iconText':\n      return <Button className=\"ywcas-submit-button\" color=\"secondary\" size=\"sm\" onClick={onClick}><Icon className=\"ywcas-submit-icon\" icon={MagnifyingGlassIcon()}/> {buttonLabel}</Button>;\n  }\n\n}\n\nexport default Submit;","import parse from 'html-react-parser';\nimport {ywcas_wc_data} from '../../config';\nimport {useMemo,useEffect,useState} from \"react\";\n/**\n * Check if an element object or array is empty\n *\n * @param element\n * @returns {boolean}\n */\nexport const isEmpty = (element) => {\n  if (typeof element === 'undefined') {\n    return true;\n  }\n\n  if (typeof element === 'object') {\n    return Object.keys(element).length === 0;\n  }\n\n  return element.hasOwnProperty(length) ? element.length === 0 : 'undefined';\n};\n\nexport const formatSinglePrice = price => accounting.formatMoney(price, ywcas_wc_data.currency);\n\nexport const formatPrice = (max, min = 0) => {\n  const maxFormatted = formatSinglePrice(max);\n  if (!parseFloat(min) || min === max) {\n    return maxFormatted;\n  }\n\n  const minFormatted = formatSinglePrice(min);\n\n  return `${minFormatted} - ${maxFormatted}`;\n};\n\n/**\n * Return the price of a product\n *\n * @param item\n * @returns {*|string}\n */\nexport const getPrice = item => {\n  if (item.product_type === 'variable') {\n    return formatPrice(item['max_price'], item['min_price']);\n  } else {\n    if (parseInt(item.onsale)) {\n      return formatPrice(item['min_price']);\n    }\n  }\n\n  return formatPrice(item['max_price']);\n};\n\nexport const getWordStr = (str, numOfWords) => {\n  return  str.split(' ').slice(0, numOfWords).join(\" \");\n};\n\nconst escapeRegExChars = value  => {\n  return value ? value.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\") : value;\n}\n\nexport const formatString = ( query, currentText ) =>{\n  var pattern = '(' + escapeRegExChars(query) + ')';\n  return parse( currentText.replace(new RegExp(pattern, 'gi'), '<strong>$1<\\/strong>') );\n}\n\nexport const getTopFrequentCategories = (numbers, numberOfResults = 3) => {\n  // Count the occurrences of each number\n  const frequencyMap = new Map();\n  for (const number of numbers) {\n    if (frequencyMap.has(number)) {\n      frequencyMap.set(number, frequencyMap.get(number) + 1);\n    } else {\n      frequencyMap.set(number, 1);\n    }\n  }\n  // Sort the frequency map by values in descending order\n  const sortedFrequency = [...frequencyMap.entries()].sort((a, b) => b[1] - a[1]);\n\n  return sortedFrequency.slice(0, numberOfResults).map(entry => entry[0]);\n}\n\nexport const useMediaQuery = (query) => {\n  const mediaQuery = useMemo(() => window.matchMedia(query), [query]);\n  const [match, setMatch] = useState(mediaQuery.matches);\n\n  useEffect(() => {\n    const onChange = () => setMatch(mediaQuery.matches);\n    mediaQuery.addEventListener(\"change\", onChange);\n\n    return () => mediaQuery.removeEventListener(\"change\", onChange);\n  }, [mediaQuery]);\n\n  return match;\n}","/**\n * External dependencies\n */\nimport {__} from '@wordpress/i18n';\n\nexport default {\n  placeholder: {\n    type: 'string',\n    default: __('Search products...', 'yith-woocommerce-ajax-search'),\n  },\n  placeholderTextColor: {\n    type: 'string',\n    default: '#000',\n  },\n  iconType: {\n    type: 'string',\n    default: 'icon-right',\n  },\n  inputTextColor: {\n    type: 'string',\n    default: '#000',\n  },\n  inputBgColor: {\n    type: 'string',\n    default: '#fff',\n  },\n  inputBgFocusColor: {\n    type: 'string',\n    default: '#fff',\n  },\n  inputBorderColor: {\n    type: 'string',\n    default: '#7C7C7C',\n  },\n  inputBorderFocusColor: {\n    type: 'string',\n    default: '#5B5B5B',\n  },\n  inputBorderSize: {\n    type: 'object',\n    default: {\n      topLeft: \"1px\",\n      topRight: \"1px\",\n      bottomLeft: \"1px\",\n      bottomRight: \"1px\"\n    }\n  },\n  inputBorderRadius: {\n    type: 'object',\n    default: {\n      topLeft: \"20px\",\n      topRight: \"20px\",\n      bottomLeft: \"20px\",\n      bottomRight: \"20px\"\n    }\n  },\n  submitContentColor: {\n    type: 'string',\n    default: '#000',\n  },\n  submitContentHoverColor: {\n    type: 'string',\n    default: '#000',\n  },\n  submitBorderColor: {\n    type: 'string',\n    default: '#fff',\n  },\n  submitBorderHoverColor: {\n    type: 'string',\n    default: '#fff',\n  },\n  submitBgColor: {\n    type: 'string',\n    default: '#fff',\n  },\n  submitBgHoverColor: {\n    type: 'string',\n    default: '#fff',\n  },\n  submitStyle: {\n    type: 'string',\n    default: 'icon',\n  },\n  className: {\n    type: 'string',\n    default: 'ywcas-input-block',\n  },\n  buttonLabel: {\n    type: 'string',\n    default: __('Search', 'yith-woocommerce-ajax-search-premium'),\n  },\n  buttonBorderRadius: {\n    type: 'object',\n    default: {\n      topLeft: \"10px\",\n      topRight: \"10px\",\n      bottomLeft: \"10px\",\n      bottomRight: \"10px\"\n    }\n  },\n  lock: {\n    type: 'object',\n    default: {\n      remove: false,\n      move: false,\n    },\n  },\n};\n","import React from 'react';\nimport {useRef, useState, useEffect} from '@wordpress/element';\nimport {Box} from '@lapilli-ui/components';\nimport {SearchField} from '../../../../base/components';\nimport {useSearchContext} from '../../context';\nimport {useMediaQuery} from \"../../../../base/utils/functions\";\n\nconst Block = (props) => {\n  const {placeholder = ''} = props;\n  const {query, setQuery, inputFocused, setInputFocused, size} = useSearchContext();\n  const ref = useRef(null);\n  const isSmallDevice = useMediaQuery('(max-width: 600px)');\n  const [mobileOpened,setMobileOpened] = useState(false);\n  const [q, setQ] = useState(query);\n\n  useEffect(() => {\n    setQ(query);\n  }, [query]);\n  useEffect(() => {\n    const delayUpdate = setTimeout(() => {\n      setQuery(q);\n    }, 500);\n\n    return () => clearTimeout(delayUpdate);\n  }, [q]);\n\n  useEffect(()=>{\n        if( inputFocused) {\n          if (isSmallDevice) {\n            !mobileOpened && createSearchMobile();\n          }else{\n            destroySearchMobile();\n          }\n        }\n      },\n      [isSmallDevice, inputFocused]\n  );\n\n  const createSearchMobile = () =>{\n    const wpAdmin = document.querySelector('#wpadminbar');\n    const yithDemo = document.querySelector('#ywtenv-banner');\n    let searchMobile = document.querySelector('.ywcas-search-mobile');\n    if (!searchMobile) {\n      searchMobile = document.createElement('div');\n      searchMobile.classList.add('ywcas-search-mobile');\n      (wpAdmin || yithDemo) && searchMobile.classList.add('with-wp-admin-toolbar');\n\n      const block = inputFocused.closest('.wp-block-yith-search-block');\n      const index = Array.prototype.indexOf.call(block.parentNode.childNodes, block);\n      block.parentNode.classList.add('ywcas-block-mounted');\n      block.parentNode.dataset.ywcasTarget = index;\n      searchMobile.append(block);\n      document.body.append(searchMobile);\n      document.body.classList.add('ywcas-disable-overflow');\n      document.documentElement.style.overflow = 'hidden';\n      setMobileOpened(true);\n    }\n  }\n\n  const destroySearchMobile = () =>{\n    const wrapper = document.querySelector('.ywcas-search-mobile')\n    if( wrapper ){\n      const block = wrapper.querySelector('.wp-block-yith-search-block');\n      const targetElement =  document.querySelector('.ywcas-block-mounted');\n      const oldPosition = targetElement.dataset.ywcasTarget;\n      if( oldPosition < targetElement.childNodes.length -1){\n        targetElement.insertBefore(block, targetElement.childNodes[oldPosition]);\n      }else{\n        targetElement.append(block);\n      }\n\n      wrapper.remove();\n      targetElement.classList.remove('ywcas-block-mounted');\n      document.body.classList.remove('ywcas-disable-overflow');\n      document.documentElement.style.overflow = '';\n    }\n    setMobileOpened(false);\n  }\n  const resetQuery = () =>{\n    destroySearchMobile();\n    setQ('');\n    setInputFocused(null);\n  }\n\n  const onCloseMobile = () =>{\n    resetQuery();\n    const event = new CustomEvent('ywcas-close-mobile',{\n      detail: {},\n      bubbles: true,\n      cancelable: true,\n      composed: false,\n    })\n    document.dispatchEvent(event);\n  }\n\n  const handleOnChange = (event, value) => {\n    if (!event) {\n      setQ(value);\n    } else {\n      event.stopPropagation();\n      if (!inputFocused) {\n        setInputFocused(ref?.current);\n      }\n      if (q !== event.target.value) {\n        setQ(event.target.value);\n      }\n    }\n  };\n\n  const setFocusOn = () => {\n    setInputFocused(ref?.current);\n  };\n  return (\n      <Box ref={ref}>\n        <SearchField placeholder={placeholder} setSearchQuery={handleOnChange}\n                     queryString={q} onFocus={setFocusOn} onCloseMobile={onCloseMobile} size={size} isSmallDevice={isSmallDevice} {...props}\n        />\n      </Box>\n  );\n};\n\nexport default Block;\n","import {withFilteredAttributes} from \"../../../../data/shared/hocs\";\n\nimport Block from './block';\nimport attributes from './attributes';\n\nexport default withFilteredAttributes(attributes)(Block);\n\n","export * from './with-filtered-attributes';\n","import { getValidBlockAttributes } from '../../../base/utils';\n\n/**\n * HOC that filters given attributes by valid block attribute values, or uses defaults if undefined.\n *\n * @param {Object} blockAttributes Component being wrapped.\n */\nexport const withFilteredAttributes =\n\t( blockAttributes ) => ( OriginalComponent ) => {\n\t\treturn ( ownProps ) => {\n\t\t\tconst validBlockAttributes = getValidBlockAttributes(\n\t\t\t\tblockAttributes,\n\t\t\t\townProps\n\t\t\t);\n\n\t\t\treturn (\n\t\t\t\t<OriginalComponent\n\t\t\t\t\t{ ...ownProps }\n\t\t\t\t\t{ ...validBlockAttributes }\n\t\t\t\t/>\n\t\t\t);\n\t\t};\n\t};\n\n"],"names":["default","SearchField","PopoverWithContent","ProductResults","Root","React","Box","Popover","useMediaQuery","_ref","children","props","_objectWithoutProperties","_excluded","isSmallDevice","createElement","Fragment","className","ResultItem","apiFetch","Typography","Grid","YWCAS_LANG","YWCAS_SITE_URL","searchQuery","results","categoryList","noResults","showViewAll","showViewAllText","maxResultsToShow","handleClick","e","item","redirect","arguments","length","undefined","stopPropagation","goToItemUrl","path","post_id","totalResults","then","error","console","log","url","window","location","href","handleSubmit","showQuery","fuzzyToken","viewAllLabel","replace","items","columns","map","index","_extends","key","onClick","Stack","parse","ywcasDefaultSettings","ItemThumb","imageSize","marginLeft","productInStock","Boolean","parseInt","instock","imageWidth","sx","width","src","thumbnail","alt","name","useState","Spinner","Button","isEmpty","_onClick","showName","showImage","layout","productNameColor","stackDirection","stackAlign","ItemName","flex","alignItems","color","fontSize","align","direction","spacing","StyledProvider","__experimentalDocumentProvider","DocumentProvider","_useState","_useState2","_slicedToArray","doc","setDoc","ref","node","ownerDocument","document","Icon","MagnifyingGlassIcon","CloseIcon","Input","Submit","queryString","placeholder","placeholderTextColor","inputTextColor","inputBgColor","inputBgFocusColor","inputBorderColor","inputBorderFocusColor","inputBorderSize","inputBorderRadius","submitContentColor","submitContentHoverColor","submitBgColor","submitBgHoverColor","submitBorderColor","submitBorderHoverColor","submitStyle","size","setSearchQuery","iconType","buttonLabel","buttonBorderRadius","_ref$onFocus","onFocus","_ref$onBlur","onBlur","_ref$onCloseMobile","onCloseMobile","_ref$isSmallDevice","getStyleOfIcon","borderRadius","backgroundColor","concat","border","borderColor","height","toLowerCase","getStyleSearchField","topLeft","topRight","bottomRight","bottomLeft","borderWidth","borderStyle","overflow","padding","input","display","opacity","onKeyDown","event","icon","autoComplete","value","onChange","startAdornment","endAdornment","wrapperStyle","ywcas_wc_data","useMemo","useEffect","element","_typeof","Object","keys","hasOwnProperty","formatSinglePrice","price","accounting","formatMoney","currency","formatPrice","max","min","maxFormatted","parseFloat","minFormatted","getPrice","product_type","onsale","getWordStr","str","numOfWords","split","slice","join","escapeRegExChars","formatString","query","currentText","pattern","RegExp","getTopFrequentCategories","numbers","numberOfResults","frequencyMap","Map","_iterator","_createForOfIteratorHelper","_step","s","n","done","number","has","set","get","err","f","sortedFrequency","_toConsumableArray","entries","sort","a","b","entry","mediaQuery","matchMedia","matches","match","setMatch","addEventListener","removeEventListener","__","type","lock","remove","move","useRef","useSearchContext","Block","_props$placeholder","_useSearchContext","setQuery","inputFocused","setInputFocused","mobileOpened","setMobileOpened","_useState3","_useState4","q","setQ","delayUpdate","setTimeout","clearTimeout","createSearchMobile","destroySearchMobile","wpAdmin","querySelector","yithDemo","searchMobile","classList","add","block","closest","Array","prototype","indexOf","call","parentNode","childNodes","dataset","ywcasTarget","append","body","documentElement","style","wrapper","targetElement","oldPosition","insertBefore","resetQuery","CustomEvent","detail","bubbles","cancelable","composed","dispatchEvent","handleOnChange","current","target","setFocusOn","withFilteredAttributes","attributes","getValidBlockAttributes","blockAttributes","OriginalComponent","ownProps","validBlockAttributes"],"sourceRoot":""}